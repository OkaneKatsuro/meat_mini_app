generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum MeatType {
  CHICKEN
  BEEF
}

enum PackageSize {
  SIZE_15
  SIZE_20
}

model Supply {
  id          String      @id @default(cuid())
  date        DateTime
  meatType    MeatType
  packageSize PackageSize
  quantity    Int //@comment("Количество упаковок")
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  @@map("supplies")
}

model Client {
  id        String     @id @default(cuid())
  name      String
  phone     String?
  email     String?
  notes     String?
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt
  shipments Shipment[]

  @@map("clients")
}

model Shipment {
  id          String      @id @default(cuid())
  clientId    String
  client      Client      @relation(fields: [clientId], references: [id], onDelete: Cascade)
  date        DateTime
  meatType    MeatType
  packageSize PackageSize
  quantity    Int //@comment("Количество упаковок")
  isPaid      Boolean     @default(false)
  totalAmount Decimal?    @db.Decimal(10, 2)
  notes       String?
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  @@map("shipments")
}
